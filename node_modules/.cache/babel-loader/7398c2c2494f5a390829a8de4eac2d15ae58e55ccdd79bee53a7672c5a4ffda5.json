{"ast":null,"code":"import _toConsumableArray from\"/home/pablo-soto/Documentos/prgramacion Reactiva/formulario/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/pablo-soto/Documentos/prgramacion Reactiva/formulario/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import Error from'./Error';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Formulario=function Formulario(_ref){var alumnos=_ref.alumnos,setAlumnos=_ref.setAlumnos,alumno=_ref.alumno,setAlumno=_ref.setAlumno;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),nombre=_useState2[0],setNombre=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),matricula=_useState4[0],setMatricula=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),carrera=_useState6[0],setCarrera=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),foto=_useState8[0],setFoto=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];useEffect(function(){if(Object.keys(alumno).length>0){setNombre(alumno.nombre);setMatricula(alumno.matricula);setCarrera(alumno.carrera);setFoto(alumno.foto);}},[alumno]);var opcionesCarrera=[\"Ingeniería en Sistemas\",\"Administración\",\"Derecho\",\"Ortodincia\",\"Civil\",\"TICS\",\"Logistica\",\"Mecatronica\"];var generarId=function generarId(){var random=Math.random().toString(36).substr(2);var fecha=Date.now().toString(36);return random+fecha;};var handleSubmit=function handleSubmit(e){e.preventDefault();// Validación del Formulario\nif([nombre,matricula,carrera,foto].includes('')){console.log('Hay Al Menos un campo vacio');setError(true);return;}setError(false);// Objeto de Alumno\nvar objetoAlumno={nombre:nombre,matricula:matricula,carrera:carrera,foto:typeof foto===\"string\"?foto:URL.createObjectURL(foto)};if(alumno.id){// Editando el Registro\nobjetoAlumno.id=alumno.id;var alumnosActualizados=alumnos.map(function(alumnoState){return alumnoState.id===alumno.id?objetoAlumno:alumnoState;});setAlumnos(alumnosActualizados);setAlumno({});}else{var _objetoAlumno={nombre:nombre,matricula:matricula,carrera:carrera,foto:foto?URL.createObjectURL(foto):null};// Nuevo registro\n_objetoAlumno.id=generarId();setAlumnos([].concat(_toConsumableArray(alumnos),[_objetoAlumno]));}// Reiniciar el form\nsetNombre('');setMatricula('');setCarrera('');setFoto(null);// Reiniciar el estado de la foto\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-1/2 lg:w-2/5 mx-auto\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg mt-5 text-center mb-10\",children:\"  \"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"bg-white shadow-md rounded-lg py-10 px-5 mb-10\",children:[error&&/*#__PURE__*/_jsx(Error,{children:/*#__PURE__*/_jsx(\"p\",{children:\"Todos los campos son obligatorios\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-5\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"nombre\",className:\"block text-gray-700 uppercase font-bold\",children:\"Nombre del Alumno\"}),/*#__PURE__*/_jsx(\"input\",{id:\"nombre\",type:\"text\",placeholder:\"Nombre del Alumno\",className:\"border-2 w-full p-2 mt-2 placeholder-gray-400 rounded-md focus:border-lime-400 focus:outline-none\",value:nombre,onChange:function onChange(e){return setNombre(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-5\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"matricula\",className:\"block text-gray-700 uppercase font-bold\",children:\"Matr\\xEDcula\"}),/*#__PURE__*/_jsx(\"input\",{id:\"matricula\",type:\"text\",placeholder:\"Matr\\xEDcula\",className:\"border-2 w-full p-2 mt-2 placeholder-gray-400 rounded-md focus:border-lime-400 focus:outline-none\",value:matricula,onChange:function onChange(e){return setMatricula(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-5\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"carrera\",className:\"block text-gray-700 uppercase font-bold\",children:\"Carrera\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"carrera\",className:\"border-2 w-full p-2 mt-2 placeholder-gray-400 rounded-md focus:border-lime-400 focus:outline-none\",value:carrera,onChange:function onChange(e){return setCarrera(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona una opci\\xF3n\"}),opcionesCarrera.map(function(opcion){return/*#__PURE__*/_jsx(\"option\",{value:opcion,children:opcion},opcion);})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-5\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"foto\",className:\"block text-gray-700 uppercase font-bold\",children:\"Foto\"}),/*#__PURE__*/_jsx(\"input\",{id:\"foto\",type:\"file\",accept:\"image/*\",className:\"border-2 w-full p-2 mt-2 placeholder-gray-400 rounded-md focus:border-lime-400 focus:outline-none\",onChange:function onChange(e){return setFoto(e.target.files[0]);}})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"bg-lime-600 w-full p-3 text-white uppercase font-bold hover:bg-lime-700 cursor-pointer transition-colors mr-auto\",value:alumno.id?'Editar Alumno':'Agregar Alumno'})]})]});};export default Formulario;","map":{"version":3,"names":["useState","useEffect","Error","jsx","_jsx","jsxs","_jsxs","Formulario","_ref","alumnos","setAlumnos","alumno","setAlumno","_useState","_useState2","_slicedToArray","nombre","setNombre","_useState3","_useState4","matricula","setMatricula","_useState5","_useState6","carrera","setCarrera","_useState7","_useState8","foto","setFoto","_useState9","_useState10","error","setError","Object","keys","length","opcionesCarrera","generarId","random","Math","toString","substr","fecha","Date","now","handleSubmit","e","preventDefault","includes","console","log","objetoAlumno","URL","createObjectURL","id","alumnosActualizados","map","alumnoState","concat","_toConsumableArray","className","children","onSubmit","htmlFor","type","placeholder","value","onChange","target","opcion","accept","files"],"sources":["/home/pablo-soto/Documentos/prgramacion Reactiva/formulario/src/components/Formulario.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport Error from './Error'\n\nconst Formulario = ({ alumnos, setAlumnos, alumno, setAlumno }) => {\n    const [nombre, setNombre] = useState('');\n    const [matricula, setMatricula] = useState('');\n    const [carrera, setCarrera] = useState('');\n    const [foto, setFoto] = useState(null);\n    const [error, setError] = useState(false)\n\n    useEffect(() => {\n        if (Object.keys(alumno).length > 0) {\n            setNombre(alumno.nombre)\n            setMatricula(alumno.matricula)\n            setCarrera(alumno.carrera)\n            setFoto(alumno.foto)\n        }\n    }, [alumno])\n\n  const opcionesCarrera = [\n    \"Ingeniería en Sistemas\",\n    \"Administración\",\n    \"Derecho\",\n    \"Ortodincia\",\n    \"Civil\",\n    \"TICS\",\n    \"Logistica\",\n    \"Mecatronica\"];\n\n    const generarId = () => {\n        const random = Math.random().toString(36).substr(2);\n        const fecha = Date.now().toString(36)\n        return random + fecha\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        // Validación del Formulario\n        if ([nombre, matricula, carrera, foto].includes('') ) {\n            console.log('Hay Al Menos un campo vacio')\n\n            setError(true)\n            return;\n        }\n\n        setError(false)\n\n        // Objeto de Alumno\n        const objetoAlumno = {\n          nombre,\n          matricula,\n          carrera,\n          foto: typeof foto === \"string\" ? foto :  URL.createObjectURL(foto)\n      }\n    \n\n        if (alumno.id) {\n            // Editando el Registro\n            objetoAlumno.id = alumno.id\n            const alumnosActualizados = alumnos.map(alumnoState => alumnoState.id === alumno.id ? objetoAlumno : alumnoState)\n\n            setAlumnos(alumnosActualizados)\n            setAlumno({})\n\n        } else {\n          const objetoAlumno = {\n            nombre,\n            matricula,\n            carrera,\n            foto: foto ? URL.createObjectURL(foto) : null\n        }\n            // Nuevo registro\n            objetoAlumno.id = generarId();\n            setAlumnos([...alumnos, objetoAlumno]);\n        }\n\n        // Reiniciar el form\n        setNombre('')\n        setMatricula('')\n        setCarrera('')\n        setFoto(null); // Reiniciar el estado de la foto\n    }\n\n\n    return (\n        <div className=\"w-full md:w-1/2 lg:w-2/5 mx-auto\">\n        <p className=\"text-lg mt-5 text-center mb-10\">  </p>\n        <form\n          onSubmit={handleSubmit}\n          className=\"bg-white shadow-md rounded-lg py-10 px-5 mb-10\"\n        >\n           { error &&  <Error><p>Todos los campos son obligatorios</p></Error>}\n               \n          <div className=\"mb-5\">\n            <label htmlFor=\"nombre\" className=\"block text-gray-700 uppercase font-bold\">\n              Nombre del Alumno\n            </label>\n            <input\n              id=\"nombre\"\n              type=\"text\"\n              placeholder=\"Nombre del Alumno\"\n              className=\"border-2 w-full p-2 mt-2 placeholder-gray-400 rounded-md focus:border-lime-400 focus:outline-none\"\n              value={nombre}\n              onChange={(e) => setNombre(e.target.value)}\n      \n            />\n          </div>\n      \n          <div className=\"mb-5\">\n            <label htmlFor=\"matricula\" className=\"block text-gray-700 uppercase font-bold\">\n              Matrícula\n            </label>\n            <input\n              id=\"matricula\"\n              type=\"text\"\n              placeholder=\"Matrícula\"\n              className=\"border-2 w-full p-2 mt-2 placeholder-gray-400 rounded-md focus:border-lime-400 focus:outline-none\"\n              value={matricula}\n              onChange={(e) => setMatricula(e.target.value)}\n             \n            />\n          </div>\n\n          <div className=\"mb-5\">\n            <label htmlFor=\"carrera\" className=\"block text-gray-700 uppercase font-bold\">\n              Carrera\n            </label>\n            <select\n              id=\"carrera\"\n              className=\"border-2 w-full p-2 mt-2 placeholder-gray-400 rounded-md focus:border-lime-400 focus:outline-none\"\n              value={carrera}\n              onChange={(e) => setCarrera(e.target.value)}\n            \n            >\n              <option value=\"\">Selecciona una opción</option>\n              {opcionesCarrera.map((opcion) => (\n                <option key={opcion} value={opcion}>\n                  {opcion}\n                </option>\n              ))}\n            </select>\n          </div>\n      \n\n          <div className=\"mb-5\">\n            <label htmlFor=\"foto\" className=\"block text-gray-700 uppercase font-bold\">\n              Foto\n            </label>\n            <input\n              id=\"foto\"\n              type=\"file\"\n              accept=\"image/*\"\n              className=\"border-2 w-full p-2 mt-2 placeholder-gray-400 rounded-md focus:border-lime-400 focus:outline-none\"\n              onChange={(e) => setFoto(e.target.files[0])}\n            />\n          </div>\n      \n          <input\n            type=\"submit\"\n            className=\"bg-lime-600 w-full p-3 text-white uppercase font-bold hover:bg-lime-700 cursor-pointer transition-colors\n              mr-auto\"\n            value={alumno.id ? 'Editar Alumno' : 'Agregar Alumno'}\n          />\n        </form>\n      </div>\n    );      \n}\nexport default Formulario    "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}